"use strict"
define("hyperchannel/app",["exports","hyperchannel/resolver","ember-load-initializers","hyperchannel/config/environment"],function(e,n,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var a=Ember.Application.extend({modulePrefix:r.default.modulePrefix,podModulePrefix:r.default.podModulePrefix,Resolver:n.default});(0,t.default)(a,r.default.modulePrefix)
var s=a
e.default=s}),define("hyperchannel/components/-lf-get-outlet-state",["exports","liquid-fire/components/-lf-get-outlet-state"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/app-container/component",["exports","jquery","ember-gestures/mixins/recognizers"],function(e,n,t){function r(e,t){return t.id===e||(0,n.default)(t).parents("#".concat(e)).length>0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var a=Ember.Component.extend(t.default,{tagName:"div",classNames:["app-container"],classNameBindings:["showGlobalMenu:global-menu-open","showChannelMenu:channel-menu-open"],recognizers:"swipeleft swiperight tap",managerOptions:Ember.computed("",function(){return{domEvents:!0,touchAction:"auto",inputClass:Hammer.SUPPORT_POINTER_EVENTS?Hammer.PointerEventInput:Hammer.TouchInput}}),swipeLeft:function(){this.set("showGlobalMenu",!1)},swipeRight:function(){this.set("showGlobalMenu",!0)},tap:function(e){!this.showGlobalMenu||r("channel-header",e.target)||r("global",e.target)||this.set("showGlobalMenu",!1)}})
e.default=a}),define("hyperchannel/components/app-container/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"wwkYFP9l",block:'{"symbols":["&default"],"statements":[[15,1],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/components/app-container/template.hbs"}})
e.default=n}),define("hyperchannel/components/channel-container/component",["exports","ember-concurrency"],function(e,n){function t(){var e=document.getElementById("channel-content")
e.scrollTop=e.scrollHeight}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.Component.extend({elementId:"channel",newMessage:"",channel:null,automaticScrollingEnabled:!0,partialRenderingEnabled:!0,partialRenderingObserverMargin:"200px",renderedMessagesCount:0,renderedMessagesAddendumAmount:30,coms:Ember.inject.service(),renderedMessages:Ember.computed("channel.sortedMessages.[]","renderedMessagesCount",function(){return this.partialRenderingEnabled?this.channel.sortedMessages.slice(-this.renderedMessagesCount):this.channel.sortedMessages}),channelChanged:Ember.observer("channel",function(){var e=this
this.set("renderedMessagesCount",this.renderedMessagesAddendumAmount),this.set("partialRenderingEnabled",!0),this.set("automaticScrollingEnabled",!0),Ember.run.later(this,function(){return e.send("menu","global","hide")},500)}),messagesUpdated:Ember.observer("renderedMessages.[]",function(){this.automaticScrollingEnabled&&Ember.run.scheduleOnce("afterRender",t)}),didInsertElement:function(){this._super.apply(this,arguments),Ember.run.scheduleOnce("afterRender",this,function(){this.set("partialRenderingObserverMargin","".concat(this.element.clientHeight/3,"px")),Hammer(document.getElementById("channel-content")).on("swipe",function(){})})},focusMessageInputField:function(){this.$("#message-field").get(0).focus()},loadPreviousMessages:(0,n.task)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.set("automaticScrollingEnabled",!1),e.next=3,this.coms.loadLastMessages(this.get("channel.space"),this.channel,this.get("channel.searchedPreviousLogsUntilDate"))
case 3:case"end":return e.stop()}},e,this)})).drop(),actions:{processMessageOrCommand:function(){"/"===this.newMessage.substr(0,1)?this.onCommand(this.newMessage):this.onMessage(this.newMessage)},menu:function(e,n){this.menu(e,n)},addUsernameMentionToMessage:function(e){var n=this.newMessage
n.match(new RegExp("^".concat(e)))||this.set("newMessage","".concat(e,": ").concat(n)),this.focusMessageInputField()},increaseRenderedMessagesCount:function(){var e=this.renderedMessagesCount+this.renderedMessagesAddendumAmount
this.set("renderedMessagesCount",e),this.set("partialRenderingEnabled",e<this.channel.sortedMessages.length)},setAutomaticScrolling:function(e){this.set("automaticScrollingEnabled",e)}}})
e.default=r}),define("hyperchannel/components/channel-container/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"f5ul03MV",block:'{"symbols":["message"],"statements":[[7,"main"],[9],[0,"\\n  "],[7,"header"],[11,"id","channel-header"],[11,"onClick",""],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[0,"\\n    "],[7,"h2"],[11,"id","channel-name"],[12,"class",[29,"if",[[25,["channel","connected"]],"connected","disconnected"],null]],[9],[1,[25,["channel","name"]],false],[10],[0,"\\n    "],[7,"p"],[11,"id","channel-title"],[9],[1,[25,["channel","formattedTopic"]],false],[10],[0,"\\n    "],[7,"nav"],[9],[0,"\\n      "],[7,"a"],[11,"href","#"],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[7,"i"],[11,"class","icon-megaphone"],[9],[10],[10],[7,"a"],[11,"href","#"],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[7,"i"],[11,"class","icon-mute"],[9],[10],[10],[0,"\\n    "],[10],[0,"\\n  "],[3,"action",[[24,0,[]],"menu","global","toggle"]],[10],[0,"\\n\\n  "],[7,"section"],[11,"id","channel-content"],[11,"class","main"],[9],[0,"\\n"],[4,"if",[[25,["channel","isLogged"]]],null,{"statements":[[0,"      "],[7,"a"],[12,"onclick",[29,"perform",[[25,["loadPreviousMessages"]]],null]],[11,"class","load-previous"],[11,"role","button"],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[0,"\\n        Load previous messages\\n      "],[10],[0,"\\n"]],"parameters":[]},null],[0,"\\n    "],[7,"ul"],[9],[0,"\\n      "],[7,"li"],[9],[0,"\\n        "],[1,[29,"scrolling-observer",null,[["rootElement","rootMargin","enabled","onIntersect"],["#channel-content",[25,["partialRenderingObserverMargin"]],[25,["partialRenderingEnabled"]],[29,"action",[[24,0,[]],"increaseRenderedMessagesCount"],null]]]],false],[0,"\\n      "],[10],[0,"\\n"],[4,"each",[[25,["renderedMessages"]]],null,{"statements":[[0,"        "],[7,"li"],[9],[0,"\\n          "],[1,[29,"component",[[24,1,["type"]]],[["message","onUsernameClick"],[[24,1,[]],[29,"action",[[24,0,[]],"addUsernameMentionToMessage"],null]]]],false],[0,"\\n        "],[10],[0,"\\n"]],"parameters":[1]},{"statements":[[4,"if",[[25,["channel","isLogged"]]],null,{"statements":[[0,"          "],[7,"li"],[11,"class","no-messages discreet"],[9],[0,"No recent messages to display."],[10],[0,"\\n"]],"parameters":[]},{"statements":[[0,"          "],[7,"li"],[11,"class","no-messages discreet"],[9],[0,"No Kosmos logs configured for this channel. "],[7,"a"],[11,"href","https://wiki.kosmos.org/Setting_up_channel_logs"],[11,"target","_blank"],[11,"rel","noopener"],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[0,"Learn more"],[10],[10],[0,"\\n"]],"parameters":[]}]],"parameters":[]}],[0,"      "],[7,"li"],[9],[0,"\\n        "],[1,[29,"scrolling-observer",null,[["rootElement","rootMargin","threshold","retriggeringEnabled","onIntersect","onDiverge"],[[25,["element"]],"0px",1,false,[29,"action",[[24,0,[]],"setAutomaticScrolling",true],null],[29,"action",[[24,0,[]],"setAutomaticScrolling",false],null]]]],false],[0,"\\n      "],[10],[0,"\\n    "],[10],[0,"\\n  "],[10],[0,"\\n\\n  "],[7,"footer"],[9],[0,"\\n    "],[1,[29,"message-input",null,[["message","onSend","usernames"],[[25,["newMessage"]],[29,"action",[[24,0,[]],"processMessageOrCommand"],null],[25,["channel","userList"]]]]],false],[0,"\\n  "],[10],[0,"\\n"],[10],[0,"\\n\\n"],[7,"aside"],[9],[0,"\\n  "],[7,"header"],[9],[0,"\\n    "],[7,"nav"],[9],[0,"\\n      "],[4,"link-to",null,[["class","route"],["active","index"]],{"statements":[[7,"i"],[11,"class","icon-users"],[9],[10]],"parameters":[]},null],[7,"a"],[11,"href","#"],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[7,"i"],[11,"class","icon-paperclip"],[9],[10],[10],[4,"link-to",null,[["route"],["settings"]],{"statements":[[7,"i"],[11,"class","icon-cog"],[9],[10]],"parameters":[]},null],[7,"a"],[11,"href","#"],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[7,"i"],[11,"class","icon-resize-enlarge"],[9],[10],[10],[0,"\\n    "],[10],[0,"\\n  "],[10],[0,"\\n\\n  "],[1,[29,"user-list",null,[["users"],[[25,["channel","sortedUserList"]]]]],false],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/components/channel-container/template.hbs"}})
e.default=n}),define("hyperchannel/components/channel-input-field/component",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.TextField.extend({keyUp:function(e){if(e.altKey)switch(e.key){case"k":this._insertAtCaret("")}},_insertAtCaret:function(e){var n=this.$().get(0)
if(document.selection)n.focus(),(n=document.selection.createRange()).text=e,n.focus()
else if(n.selectionStart||"0"===n.selectionStart){var t=n.selectionStart,r=n.selectionEnd,a=n.scrollTop
n.value=n.value.substring(0,t)+e+n.value.substring(r,n.value.length),n.focus(),n.selectionStart=t+e.length,n.selectionEnd=t+e.length,n.scrollTop=a}else n.value+=e,n.focus()}})
e.default=n}),define("hyperchannel/components/channel-nav/component",["exports","ember-keyboard-shortcuts"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend({tagName:"ul",router:Ember.inject.service(),coms:Ember.inject.service(),storage:Ember.inject.service("remotestorage"),keyboardShortcuts:Object.freeze({"ctrl+shift+up":"goPreviousChannel","ctrl+shift+down":"goNextChannel"}),didInsertElement:function(){this._super.apply(this,arguments),(0,n.bindKeyboardShortcuts)(this)},willDestroyElement:function(){this._super.apply(this,arguments),(0,n.unbindKeyboardShortcuts)(this)},activeChannel:Ember.computed("spaces.@each.activeChannel",function(){var e
return this.spaces.forEach(function(n){var t=n.activeChannel
Ember.isPresent(t)&&(e=t)}),e}),transitionToRelativeChannel:function(e){if(Ember.isPresent(this.activeChannel)){var n=this.activeChannel.space.sortedChannels,t=n.indexOf(this.activeChannel),r=n.length-1,a=0
if(-1===e){var s=[a,r]
r=s[0],a=s[1]}var o=n[t===r?a:t+e]
this.router.transitionTo("space.channel",o.space,o)}},actions:{joinChannel:function(e){var n=window.prompt("Join channel")
if(!Ember.isEmpty(n)){"IRC"!==e.get("protocol")||n.match(/^#/)||(n="#".concat(n))
var t=this.coms.createChannel(e,n)
this.storage.saveSpace(e),this.router.transitionTo("space.channel",e,t)}},leaveChannel:function(e,n){if(this.coms.removeChannel(e,n.name),n.visible){var t=e.get("sortedChannels.lastObject")
this.router.transitionTo("space.channel",e,t)}},goPreviousChannel:function(){this.transitionToRelativeChannel(-1)},goNextChannel:function(){this.transitionToRelativeChannel(1)}}})
e.default=t}),define("hyperchannel/components/channel-nav/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"uhT951Xh",block:'{"symbols":["space","channel"],"statements":[[4,"each",[[25,["spaces"]]],null,{"statements":[[0,"  "],[7,"li"],[9],[0,"\\n    "],[7,"h2"],[9],[4,"link-to",null,[["route","model"],["space",[24,1,[]]]],{"statements":[[1,[24,1,["name"]],false]],"parameters":[]},null],[10],[0,"\\n    "],[7,"ul"],[9],[0,"\\n"],[4,"each",[[24,1,["sortedChannels"]]],null,{"statements":[[0,"        "],[7,"li"],[12,"class",[30,[[29,"if",[[24,2,["connected"]],"connected","disconnected"],null]," ",[24,2,["unreadMessagesClass"]]," ",[29,"if",[[24,2,["visible"]],"active",""],null]]]],[9],[0,"\\n"],[4,"if",[[24,2,["isUserChannel"]]],null,{"statements":[[0,"            "],[4,"link-to",null,[["route","models"],["space.user-channel",[29,"array",[[24,1,[]],[24,2,[]]],null]]],{"statements":[[1,[24,2,["name"]],false]],"parameters":[]},null],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[4,"link-to",null,[["route","models"],["space.channel",[29,"array",[[24,1,[]],[24,2,[]]],null]]],{"statements":[[1,[24,2,["name"]],false]],"parameters":[]},null],[0,"\\n"]],"parameters":[]}],[0,"          "],[7,"a"],[11,"class","leave-channel"],[12,"title",[30,["Leave ",[24,2,["name"]]]]],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[0,"x"],[3,"action",[[24,0,[]],"leaveChannel",[24,1,[]],[24,2,[]]]],[10],[0,"\\n        "],[10],[0,"\\n"]],"parameters":[2]},null],[0,"      "],[7,"li"],[9],[0,"\\n        "],[7,"a"],[11,"class","join-channel"],[11,"role","button"],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[0,"+"],[3,"action",[[24,0,[]],"joinChannel",[24,1,[]]]],[10],[0,"\\n      "],[10],[0,"\\n    "],[10],[0,"\\n  "],[10],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"hyperchannel/components/channel-nav/template.hbs"}})
e.default=n}),define("hyperchannel/components/date-headline/component",["exports","moment","hyperchannel/config/environment"],function(e,n,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.Component.extend({classNames:["date-headline"],updateInterval:12e4,headline:Ember.computed("message.date",function(){var e=this,r=(0,n.default)(this.get("message.date")),a=function(){"testing"===!t.default.environment&&Ember.run.later(function(){e.notifyPropertyChange("message.date")},e.updateInterval)}
return r.isSame((0,n.default)(),"day")?(a(),"Today"):r.isSame((0,n.default)().subtract(1,"day"),"day")?(a(),"Yesterday"):this.get("message.date").toLocaleDateString()})})
e.default=r}),define("hyperchannel/components/date-headline/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"Frz7aetB",block:'{"symbols":[],"statements":[[7,"h3"],[9],[1,[23,"headline"],false],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/components/date-headline/template.hbs"}})
e.default=n}),define("hyperchannel/components/from-elsewhere",["exports","ember-elsewhere/components/from-elsewhere"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/illiquid-model",["exports","liquid-fire/components/illiquid-model"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/link-to-username/component",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Component.extend({username:null,roles:null,init:function(){this._super.apply(this,arguments),this.set("roles",{"@":"op","%":"half-op","+":"voice"})},role:Ember.computed("username","roles",function(){var e=this.roles[this.username[0]]
return Ember.isPresent(e)?e:"normal"}),usernameWithoutPrefix:Ember.computed("username","roles",function(){var e=RegExp("^[\\".concat(Object.keys(this.roles).join("\\"),"]"))
return this.username.replace(e,"")})})
e.default=n}),define("hyperchannel/components/link-to-username/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"amag9JGi",block:'{"symbols":[],"statements":[[4,"link-to",null,[["class","route","model"],[[25,["role"]],"space.user-channel",[25,["usernameWithoutPrefix"]]]],{"statements":[[1,[23,"username"],false]],"parameters":[]},null],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/components/link-to-username/template.hbs"}})
e.default=n}),define("hyperchannel/components/liquid-bind",["exports","liquid-fire/components/liquid-bind"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/liquid-child",["exports","liquid-fire/components/liquid-child"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/liquid-container",["exports","liquid-fire/components/liquid-container"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/liquid-if",["exports","liquid-fire/components/liquid-if"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/liquid-measured",["exports","liquid-fire/components/liquid-measured"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"measure",{enumerable:!0,get:function(){return n.measure}})}),define("hyperchannel/components/liquid-outlet",["exports","liquid-fire/components/liquid-outlet"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/liquid-spacer",["exports","liquid-fire/components/liquid-spacer"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/liquid-sync",["exports","liquid-fire/components/liquid-sync"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/liquid-unless",["exports","liquid-fire/components/liquid-unless"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/liquid-versions",["exports","liquid-fire/components/liquid-versions"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/message-chat-me/component",["exports","hyperchannel/components/message-chat/component"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default.extend({classNames:["chat-message","chat-me-message"]})
e.default=t}),define("hyperchannel/components/message-chat-me/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"sml+pUAZ",block:'{"symbols":[],"statements":[[7,"span"],[11,"class","username"],[12,"data-username",[25,["message","nickname"]]],[9],[1,[25,["message","nickname"]],false],[10],[0,"\\n"],[7,"span"],[11,"class","message"],[9],[1,[23,"formattedContent"],false],[10],[0,"\\n\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/components/message-chat-me/template.hbs"}})
e.default=n}),define("hyperchannel/components/message-chat/component",["exports","moment"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend({tagName:"div",classNames:["chat-message"],message:null,datetime:Ember.computed("message.date",function(){return(0,n.default)(this.get("message.date")).format("YYYY-MM-DD[T]HH:mm")}),dateTitle:Ember.computed("message.date",function(){return(0,n.default)(this.get("message.date")).format("YYYY-MM-DD [at] HH:mm")}),formattedContent:Ember.computed("message.content",function(){var e,n=this.get("message.content")
return e=(e=n.match(/^(http)s?:\/\/.*(gif|png|jpg|jpeg)$/i)?'<br><a href="'.concat(n,'" target="_blank" rel="nofollow noopener">')+'<img src="'.concat(n,'" class="from-image-url" alt="').concat(n,'">')+"</a>":linkifyStr(n,{linkAttributes:{rel:"nofollow noopener"},validate:{url:function(e){return/^(http)s?:\/\//.test(e)},email:function(){return!1}}})).replace(/\u0003(\d+)/g,'<span class="color-$1">').replace(/"color-(\d)"/g,'"color-0$1"').replace(/\u0002/g,'<span class="bold">').replace(/\u001D/g,'<span class="italic">').replace(/\u000f/g,"</span>"),Ember.String.htmlSafe(e)}),actions:{usernameClick:function(e){this.onUsernameClick(e)}}})
e.default=t}),define("hyperchannel/components/message-chat/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"BWbZTNBW",block:'{"symbols":[],"statements":[[7,"span"],[11,"class","chat-message__username"],[12,"data-username",[25,["message","nickname"]]],[12,"onclick",[29,"action",[[24,0,[]],"usernameClick",[25,["message","nickname"]]],null]],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[0,"\\n  "],[1,[25,["message","nickname"]],false],[0,":\\n"],[10],[0,"\\n\\n"],[7,"time"],[11,"class","chat-message__date"],[12,"datetime",[23,"datetime"]],[12,"title",[23,"dateTitle"]],[9],[0,"\\n  "],[1,[29,"moment-format",[[25,["message","date"]],"HH:mm"],null],false],[0,"\\n"],[10],[0,"\\n\\n"],[7,"span"],[11,"class","chat-message__message"],[9],[0,"\\n  "],[1,[23,"formattedContent"],false],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/components/message-chat/template.hbs"}})
e.default=n}),define("hyperchannel/components/message-input/component",["exports","ember-keyboard-shortcuts"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend({tagName:"section",elementId:"new-message",message:"",usernames:null,keyboardShortcuts:Object.freeze({tab:"completeUsername"}),didInsertElement:function(){this._super.apply(this,arguments),(0,n.bindKeyboardShortcuts)(this)},willDestroyElement:function(){this._super.apply(this,arguments),(0,n.unbindKeyboardShortcuts)(this)},actions:{completeUsername:function(){var e=this.element.querySelector("#message-field"),n=e.selectionStart,t=this.message.slice(0,n),r=this.message.slice(n),a=t.split(" "),s=a.pop()
if(!Ember.isEmpty(s)){var o=this.usernames.find(function(e){return e.toLowerCase().startsWith(s.toLowerCase())})
if(!Ember.isEmpty(o)){0===a.length&&(o="".concat(o,": "))
var i=n+(o.length-s.length)
a.push(o)
var l="".concat(a.join(" ")).concat(r)
this.set("message",l),Ember.run.scheduleOnce("afterRender",this,function(){e.focus(),e.setSelectionRange(i,i)})}}}}})
e.default=t})
define("hyperchannel/components/message-input/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"7yQqJceI",block:'{"symbols":[],"statements":[[7,"form"],[9],[0,"\\n  "],[1,[29,"channel-input-field",null,[["value","placeholder","name","id","autocomplete"],[[25,["message"]],"Type a message and hit enter","chat-message","message-field","off"]]],false],[0,"\\n"],[3,"action",[[24,0,[]],[25,["onSend"]]],[["on"],["submit"]]],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/components/message-input/template.hbs"}})
e.default=n}),define("hyperchannel/components/modal-target/component",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Component.extend({modalAnimation:function(){return this.lookup("explode").call(this,{pick:".modal-background",use:["fade",{maxOpacity:.5}]},{pick:".modal-dialog",use:"scale"})},actions:{outsideClick:function(e){e&&e.onOutsideClick&&e.onOutsideClick()}}})
e.default=n}),define("hyperchannel/components/modal-target/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"QFJtaXsI",block:'{"symbols":["modal","currentModal"],"statements":[[4,"from-elsewhere",null,[["name"],["modal"]],{"statements":[[4,"liquid-bind",[[24,1,[]]],[["containerless","use"],[true,[25,["modalAnimation"]]]],{"statements":[[4,"if",[[24,2,[]]],null,{"statements":[[0,"      "],[7,"div"],[11,"class","modal-container"],[9],[0,"\\n        "],[7,"div"],[11,"class","modal-background"],[12,"onclick",[29,"action",[[24,0,[]],"outsideClick",[24,2,[]]],null]],[11,"role","button"],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[10],[0,"\\n        "],[7,"div"],[11,"class","modal-dialog"],[9],[0,"\\n"],[4,"if",[[24,2,["body"]]],null,{"statements":[[0,"            "],[1,[29,"component",[[24,2,["body"]]],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"            "],[1,[29,"component",[[24,2,[]]],null],false],[0,"\\n"]],"parameters":[]}],[0,"        "],[10],[0,"\\n      "],[10],[0,"\\n"]],"parameters":[]},null]],"parameters":[2]},null]],"parameters":[1]},null],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/components/modal-target/template.hbs"}})
e.default=n}),define("hyperchannel/components/multiple-from-elsewhere",["exports","ember-elsewhere/components/multiple-from-elsewhere"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/notification-topic-change/component",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Component.extend({tagName:"div",classNames:["topic-change-notification"]})
e.default=n}),define("hyperchannel/components/notification-topic-change/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"lVxE/fHh",block:'{"symbols":[],"statements":[[0,"Topic was changed to \\""],[1,[25,["message","content"]],false],[0,"\\" by "],[7,"span"],[11,"class","username"],[12,"data-username",[25,["message","nickname"]]],[9],[1,[25,["message","nickname"]],false],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/components/notification-topic-change/template.hbs"}})
e.default=n}),define("hyperchannel/components/scrolling-observer/component",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Component.extend({rootElement:null,rootMargin:"100px",threshold:0,enabled:!0,retriggeringEnabled:!0,observer:null,didInsertElement:function(){this._super.apply(this,arguments),Ember.run.scheduleOnce("afterRender",this,function(){this.createIntersectionObserver()})},willDestroyElement:function(){this._super.apply(this,arguments),this.observer&&this.observer.disconnect()},createIntersectionObserver:function(){var e=this,n=this.rootElement
"string"==typeof n&&(n=document.querySelector(n))
var t={root:n,rootMargin:this.rootMargin,threshold:this.threshold},r=new IntersectionObserver(function(n,t){n.forEach(function(n){n.isIntersecting?(e.onIntersect&&e.onIntersect(),e.enabled&&e.retriggeringEnabled&&Ember.run.scheduleOnce("afterRender",e,function(){t.unobserve(n.target),t.observe(n.target)})):e.onDiverge&&e.onDiverge()})},t)
r.observe(this.element),this.set("observer",r)},rootMarginChanged:Ember.observer("rootMargin",function(){this.enabled&&this.observer&&(this.observer.disconnect(),this.createIntersectionObserver())}),enabledChanged:Ember.observer("enabled",function(){this.enabled?this.observer.observe(this.element):this.observer.disconnect()})})
e.default=n}),define("hyperchannel/components/space-setting-modal/component",["exports","hyperchannel/models/space"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend({settings:null,space:null,init:function(){this._super.apply(this,arguments)
var e=n.default.create()
e.setProperties(this.settings.serialize()),this.set("space",e)},actions:{save:function(){this.onSave(this.space)},cancel:function(){this.onCancel()}}})
e.default=t}),define("hyperchannel/components/space-setting-modal/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"eOZ7ZDnj",block:'{"symbols":[],"statements":[[7,"h1"],[9],[0,"Space Setting"],[10],[0,"\\n\\n"],[7,"form"],[11,"name","add-space"],[9],[0,"\\n  "],[7,"p"],[9],[0,"\\n    "],[1,[29,"input",null,[["value","required","placeholder"],[[25,["space","protocol"]],"required","IRC"]]],false],[0,"\\n  "],[10],[0,"\\n  "],[7,"p"],[9],[0,"\\n    "],[1,[29,"input",null,[["value","required","placeholder"],[[25,["space","name"]],"required","Freenode"]]],false],[0,"\\n  "],[10],[0,"\\n  "],[7,"p"],[9],[0,"\\n    "],[1,[29,"input",null,[["value","required","placeholder"],[[25,["space","server","hostname"]],"required","irc.servername.org"]]],false],[0,"\\n  "],[10],[0,"\\n  "],[7,"p"],[9],[0,"\\n    "],[1,[29,"input",null,[["value","required","placeholder"],[[25,["space","server","port"]],"required","6667"]]],false],[0,"\\n  "],[10],[0,"\\n  "],[7,"p"],[9],[0,"\\n    "],[1,[29,"input",null,[["type","checked","id"],["checkbox",[25,["space","server","secure"]],"tls-enabled-modal"]]],false],[0,"\\n    "],[7,"label"],[11,"for","tls-enabled-modal"],[9],[0,"Secure (TLS)"],[10],[0,"\\n  "],[10],[0,"\\n  "],[7,"p"],[9],[0,"\\n    "],[1,[29,"input",null,[["value","placeholder"],[[25,["space","server","username"]],"username"]]],false],[0,"\\n  "],[10],[0,"\\n  "],[7,"p"],[9],[0,"\\n    "],[1,[29,"input",null,[["type","value","placeholder"],["password",[25,["space","server","password"]],"password"]]],false],[0,"\\n  "],[10],[0,"\\n  "],[7,"p"],[9],[0,"\\n    "],[1,[29,"input",null,[["value","required","placeholder"],[[25,["space","server","nickname"]],"required","nickname"]]],false],[0,"\\n  "],[10],[0,"\\n  "],[7,"p"],[9],[0,"\\n    "],[7,"input"],[11,"value","Save"],[11,"type","submit"],[9],[10],[0,"\\n  "],[10],[0,"\\n"],[3,"action",[[24,0,[]],"save"],[["on"],["submit"]]],[10],[0,"\\n\\n"],[7,"button"],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[0,"Cancel"],[3,"action",[[24,0,[]],"cancel"]],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/components/space-setting-modal/template.hbs"}})
e.default=n}),define("hyperchannel/components/to-elsewhere",["exports","ember-elsewhere/components/to-elsewhere"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/components/user-list/component",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Component.extend({tagName:"section",elementId:"user-list",classNames:["main"],users:null,renderedUsersCount:0,renderedUsersAddendumAmount:50,partialRenderingEnabled:!0,renderedUsers:Ember.computed("users.[]","renderedUsersCount",function(){return this.partialRenderingEnabled?this.users.slice(0,this.renderedUsersCount):this.users}),usersChanged:Ember.observer("users",function(){this.set("renderedUsersCount",this.renderedUsersAddendumAmount),this.set("partialRenderingEnabled",!0),Ember.run.scheduleOnce("afterRender",this,function(){this.element.scrollTop=0})}),actions:{increaseRenderedUsersCount:function(){var e=this.renderedUsersCount+this.renderedUsersAddendumAmount
this.set("renderedUsersCount",e),this.set("partialRenderingEnabled",e<this.users.length)}}})
e.default=n}),define("hyperchannel/components/user-list/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"fssdcnHe",block:'{"symbols":["username"],"statements":[[7,"ul"],[9],[0,"\\n"],[4,"each",[[25,["renderedUsers"]]],null,{"statements":[[0,"    "],[7,"li"],[9],[1,[29,"link-to-username",null,[["username"],[[24,1,[]]]]],false],[10],[0,"\\n"]],"parameters":[1]},null],[0,"  "],[7,"li"],[11,"class","last-element"],[9],[10],[0,"\\n  "],[1,[29,"scrolling-observer",null,[["rootElement","rootMargin","enabled","onIntersect"],[[25,["element"]],"200px",[25,["partialRenderingEnabled"]],[29,"action",[[24,0,[]],"increaseRenderedUsersCount"],null]]]],false],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/components/user-list/template.hbs"}})
e.default=n}),define("hyperchannel/components/web-push-subscription/component",["exports","hyperchannel/utils/url-base64-to-uint8-array"],function(e,n){function t(e,n,t,r,a,s,o){try{var i=e[s](o),l=i.value}catch(c){return void t(c)}i.done?n(l):Promise.resolve(l).then(r,a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.Component.extend({botkaURL:null,username:null,subscribed:!1,webPushBaseURL:Ember.computed("botkaURL",function(){return this.botkaURL+"/web-push"}),init:function(){var e=this
this._super.apply(this,arguments),navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()}).then(function(n){n&&e.set("subscribed",!0)})},actions:{subscribe:function(){var e=this
navigator.serviceWorker.ready.then(function(){var e,r=(e=regeneratorRuntime.mark(function e(t){var r,a,s
return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.webPushBaseURL+"/vapid-public-key")
case 2:return r=e.sent,e.next=5,r.text()
case 5:return a=e.sent,s=(0,n.default)(a),e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:s}))
case 8:case"end":return e.stop()}},e,this)}),function(){var n=this,r=arguments
return new Promise(function(a,s){var o=e.apply(n,r)
function i(e){t(o,a,s,i,l,"next",e)}function l(e){t(o,a,s,i,l,"throw",e)}i(void 0)})})
return function(e){return r.apply(this,arguments)}}().bind(this)).then(function(n){return console.debug("Subscribed",n.endpoint),fetch(e.webPushBaseURL+"/register",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({user:e.username,subscription:n})})}).then(this.set("subscribed",!0))},unsubscribe:function(){var e=this
navigator.serviceWorker.ready.then(function(e){return e.pushManager.getSubscription()}).then(function(n){return n.unsubscribe().then(function(){return console.debug("Unsubscribed",n.endpoint),fetch(e.webPushBaseURL+"/unregister",{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({subscription:n})})})}).then(this.set("subscribed",!1))}}})
e.default=r}),define("hyperchannel/components/web-push-subscription/template",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"VZVi93NP",block:'{"symbols":[],"statements":[[7,"p"],[9],[0,"\\n  "],[7,"i"],[9],[0,"username:"],[10],[0," "],[1,[23,"username"],false],[7,"br"],[9],[10],[0,"\\n  "],[7,"i"],[9],[0,"base URL:"],[10],[0," "],[1,[23,"webPushBaseURL"],false],[0,"\\n"],[10],[0,"\\n"],[7,"p"],[9],[0,"\\n"],[4,"if",[[25,["subscribed"]]],null,{"statements":[[0,"    "],[7,"button"],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[0,"Disable push notifications"],[3,"action",[[24,0,[]],"unsubscribe"]],[10],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[7,"button"],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[0,"Receive push notifications"],[3,"action",[[24,0,[]],"subscribe"]],[10],[0,"\\n"]],"parameters":[]}],[10]],"hasEval":false}',meta:{moduleName:"hyperchannel/components/web-push-subscription/template.hbs"}})
e.default=n}),define("hyperchannel/controllers/application",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Controller.extend({coms:Ember.inject.service(),spaces:Ember.computed.alias("coms.spaces"),showGlobalMenu:!1,showChannelMenu:!1})
e.default=n}),define("hyperchannel/controllers/index",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Controller.extend({application:Ember.inject.controller()})
e.default=n}),define("hyperchannel/controllers/settings",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Controller.extend({application:Ember.inject.controller(),coms:Ember.inject.service(),storage:Ember.inject.service("remotestorage"),newSpace:null,selectedSpacePreset:null,showSpaceSettingModal:Ember.computed.notEmpty("selectedSpacePreset"),actions:{addSpaceFromPreset:function(e){this.set("selectedSpacePreset",e)},saveSpace:function(e){var n=this
this.set("selectedSpacePreset",null),this.storage.saveSpace(e).then(function(){n.coms.connectAndAddSpace(e)})}}})
e.default=n}),define("hyperchannel/controllers/space",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Controller.extend({})
e.default=n}),define("hyperchannel/controllers/space/base_channel",["exports","hyperchannel/models/message"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Controller.extend({newMessage:null,application:Ember.inject.controller(),space:Ember.inject.controller(),coms:Ember.inject.service(),storage:Ember.inject.service("remotestorage"),createMessage:function(e,t){return n.default.create({type:t,date:new Date,nickname:this.get("space.model.server.nickname"),content:e})},actions:{menu:function(e,n){var t="show".concat(e.capitalize(),"Menu")
switch(n){case"show":this.application.set(t,!0)
break
case"hide":this.application.set(t,!1)
break
case"toggle":this.application.toggleProperty(t)}},sendMessage:function(e){var n=this.createMessage(e,"message-chat")
this.coms.transferMessage(this.get("space.model"),this.model,n.get("content")),this.model.addMessage(n),this.set("newMessage",null)},executeCommand:function(e){var n=e.substr(1),t=n.split(" "),r=t[0];["help","join","leave","me","msg","part","topic"].includes(r.toLowerCase())?this.send(r+"Command",t.slice(1)):console.warn("[channel]","Unknown command",n),this.set("newMessage",null)},joinCommand:function(e){var n=this.get("space.model"),t=this.coms.createChannel(n,e[0])
this.storage.saveSpace(n),this.transitionToRoute("space.channel",n,t)},partCommand:function(){var e=this.get("space.model"),n=this.get("model.name")
this.coms.removeChannel(e,n)
var t=e.get("channels.lastObject")
Ember.isPresent(t)?this.transitionToRoute("space.channel",e,t):this.transitionToRoute("space",e)},leaveCommand:function(){this.send("partCommand")},helpCommand:function(){},meCommand:function(e){var n=e.join(" "),t=this.createMessage(n,"message-chat-me")
this.coms.transferMeMessage(this.get("space.model"),this.get("model.sockethubChannelId"),t.get("content")),this.model.addMessage(t)},msgCommand:function(e){var n=e.shift()
this.coms.createUserChannel(this.get("space.model"),n)},topicCommand:function(e){var n=this.model,t=e.join(" ")
this.coms.changeTopic(this.get("space.model"),n,t)}}})
e.default=t}),define("hyperchannel/controllers/space/channel",["exports","hyperchannel/controllers/space/base_channel"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default.extend({})
e.default=t}),define("hyperchannel/controllers/space/user_channel",["exports","hyperchannel/controllers/space/base_channel"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default.extend({})
e.default=t}),define("hyperchannel/ember-gestures/recognizers/pan",["exports","ember-gestures/recognizers/pan"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default
e.default=t}),define("hyperchannel/ember-gestures/recognizers/pinch",["exports","ember-gestures/recognizers/pinch"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default
e.default=t}),define("hyperchannel/ember-gestures/recognizers/press",["exports","ember-gestures/recognizers/press"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default
e.default=t}),define("hyperchannel/ember-gestures/recognizers/rotate",["exports","ember-gestures/recognizers/rotate"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default
e.default=t}),define("hyperchannel/ember-gestures/recognizers/swipe",["exports","ember-gestures/recognizers/swipe"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default
e.default=t}),define("hyperchannel/ember-gestures/recognizers/swipeleft",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n={include:[],exclude:[],options:{threshold:25,direction:Hammer.DIRECTION_LEFT},eventName:"swipeleft",recognizer:"swipe"}
e.default=n}),define("hyperchannel/ember-gestures/recognizers/swiperight",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n={include:[],exclude:[],options:{threshold:25,direction:Hammer.DIRECTION_RIGHT},eventName:"swiperight",recognizer:"swipe"}
e.default=n}),define("hyperchannel/ember-gestures/recognizers/tap",["exports","ember-gestures/recognizers/tap"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/ember-gestures/recognizers/vertical-pan",["exports","ember-gestures/recognizers/vertical-pan"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})})
define("hyperchannel/ember-gestures/recognizers/vertical-swipe",["exports","ember-gestures/recognizers/vertical-swipe"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/event_dispatcher",["exports","ember-gestures/event_dispatcher","hyperchannel/config/environment"],function(e,n,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.assign||Ember.merge,a=r({},{emberUseCapture:!1,removeTracking:!1,useFastPaths:!1})
a=r(a,t.default.gestures)
var s=n.default.extend({useCapture:a.emberUseCapture,removeTracking:a.removeTracking,useFastPaths:a.useFastPaths})
e.default=s}),define("hyperchannel/helpers/app-version",["exports","hyperchannel/config/environment","ember-cli-app-version/utils/regexp"],function(e,n,t){function r(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.default.APP.version,s=r.versionOnly||r.hideSha,o=r.shaOnly||r.hideVersion,i=null
return s&&(r.showExtended&&(i=a.match(t.versionExtendedRegExp)),i||(i=a.match(t.versionRegExp))),o&&(i=a.match(t.shaRegExp)),i?i[0]:a}Object.defineProperty(e,"__esModule",{value:!0}),e.appVersion=r,e.default=void 0
var a=Ember.Helper.helper(r)
e.default=a}),define("hyperchannel/helpers/cancel-all",["exports","ember-concurrency/helpers/cancel-all"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/is-after",["exports","ember-moment/helpers/is-after"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/is-before",["exports","ember-moment/helpers/is-before"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/is-between",["exports","ember-moment/helpers/is-between"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/is-same-or-after",["exports","ember-moment/helpers/is-same-or-after"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/is-same-or-before",["exports","ember-moment/helpers/is-same-or-before"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/is-same",["exports","ember-moment/helpers/is-same"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/lf-lock-model",["exports","liquid-fire/helpers/lf-lock-model"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"lfLockModel",{enumerable:!0,get:function(){return n.lfLockModel}})}),define("hyperchannel/helpers/lf-or",["exports","liquid-fire/helpers/lf-or"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"lfOr",{enumerable:!0,get:function(){return n.lfOr}})}),define("hyperchannel/helpers/moment-add",["exports","ember-moment/helpers/moment-add"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/moment-calendar",["exports","ember-moment/helpers/moment-calendar"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/moment-diff",["exports","ember-moment/helpers/moment-diff"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/moment-duration",["exports","ember-moment/helpers/moment-duration"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/moment-format",["exports","ember-moment/helpers/moment-format"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/moment-from-now",["exports","ember-moment/helpers/moment-from-now"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/moment-from",["exports","ember-moment/helpers/moment-from"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/moment-subtract",["exports","ember-moment/helpers/moment-subtract"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/moment-to-date",["exports","ember-moment/helpers/moment-to-date"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/moment-to-now",["exports","ember-moment/helpers/moment-to-now"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/moment-to",["exports","ember-moment/helpers/moment-to"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/moment-unix",["exports","ember-moment/helpers/unix"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/moment",["exports","ember-moment/helpers/moment"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/now",["exports","ember-moment/helpers/now"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/perform",["exports","ember-concurrency/helpers/perform"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/task",["exports","ember-concurrency/helpers/task"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/unix",["exports","ember-moment/helpers/unix"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/helpers/utc",["exports","ember-moment/helpers/utc"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"utc",{enumerable:!0,get:function(){return n.utc}})})
define("hyperchannel/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","hyperchannel/config/environment"],function(e,n,t){var r,a
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t.default.APP&&(r=t.default.APP.name,a=t.default.APP.version)
var s={name:"App Version",initialize:(0,n.default)(r,a)}
e.default=s}),define("hyperchannel/initializers/container-debug-adapter",["exports","ember-resolver/resolvers/classic/container-debug-adapter"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={name:"container-debug-adapter",initialize:function(){var e=arguments[1]||arguments[0]
e.register("container-debug-adapter:main",n.default),e.inject("container-debug-adapter:main","namespace","application:main")}}
e.default=t}),define("hyperchannel/initializers/ember-concurrency",["exports","ember-concurrency/initializers/ember-concurrency"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/initializers/ember-hammertime",["exports","ember-hammertime/components/component"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"ember-hammertime",initialize:function(){}}}),define("hyperchannel/initializers/export-application-global",["exports","hyperchannel/config/environment"],function(e,n){function t(){var e=arguments[1]||arguments[0]
if(!1!==n.default.exportApplicationGlobal){var t
if("undefined"!=typeof window)t=window
else if("undefined"!=typeof global)t=global
else{if("undefined"==typeof self)return
t=self}var r,a=n.default.exportApplicationGlobal
r="string"==typeof a?a:Ember.String.classify(n.default.modulePrefix),t[r]||(t[r]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete t[r]}}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=t,e.default=void 0
var r={name:"export-application-global",initialize:t}
e.default=r}),define("hyperchannel/initializers/hammer",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n={name:"hammer",initialize:function(){delete Hammer.defaults.cssProps.userSelect}}
e.default=n}),define("hyperchannel/initializers/liquid-fire",["exports","liquid-fire/velocity-ext"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"liquid-fire",initialize:function(){}}}),define("hyperchannel/initializers/sockethub",["exports","hyperchannel/config/environment"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=new SockethubClient(io(n.default.sockethubURL,{path:"/sockethub"})),r={name:"sockethub",initialize:function(e){e.register("sockethub:client",t,{instantiate:!1,singleton:!0}),e.inject("controller","sockethub","sockethub:client"),e.inject("route","sockethub","sockethub:client"),e.inject("component","sockethub","sockethub:client"),e.inject("service","sockethub","sockethub:client")}}
e.default=r}),define("hyperchannel/instance-initializers/ember-gestures",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n={name:"ember-gestures",initialize:function(e){"function"==typeof e.lookup?e.lookup("service:-gestures"):Ember.getOwner(e).lookup("service:-gestures")}}
e.default=n}),define("hyperchannel/instance-initializers/remotestorage",["exports"],function(e){function n(e){var n=e.lookup("service:remotestorage").get("rs")
window.remoteStorage=n;["ready","not-connected","connected","disconnected","error","features-loaded","connecting","authing","wire-busy","wire-done","network-offline","network-online"].forEach(function(e){n.on(e,function(){return console.debug("[remotestorage] RS event: ".concat(e))})})}Object.defineProperty(e,"__esModule",{value:!0}),e.initialize=n,e.default=void 0
var t={name:"remotestorage",initialize:n}
e.default=t}),define("hyperchannel/models/base_channel",["exports","hyperchannel/models/message","moment"],function(e,n,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.Object.extend({space:null,name:"",userList:null,messages:null,connected:!1,sockethubChannelId:null,topic:null,unreadMessages:!1,unreadMentions:!1,visible:!1,init:function(){this._super.apply(this,arguments),this.set("messages",[]),this.set("userList",[])},isLogged:Ember.computed("space.loggedChannels.[]","name",function(){var e=this,n=this.get("space.loggedChannels").find(function(n){return n===e.name})
return Ember.isPresent(n)}),slug:Ember.computed("name",function(){return this.name.replace(/#/g,"")}),unreadMessagesClass:Ember.computed("visible","unreadMessages","unreadMentions",function(){return this.visible||!this.unreadMessages?null:this.unreadMentions?"unread-mentions":"unread-messages"}),sortedMessages:Ember.computed("messages.@each.date",function(){return this.messages.sortBy("date")}),sortedUserList:Ember.computed("userList.[]",function(){return this.userList.sort(function(e,n){return e.toLowerCase().localeCompare(n.toLowerCase())})}),addDateHeadline:function(e){var r=(0,t.default)(e.get("date")).startOf("day").toDate()
if(!this.messages.find(function(e){return"date-headline"===e.get("type")&&e.get("date").toString()===r.toString()})){var a=n.default.create({type:"date-headline",date:r})
this.messages.pushObject(a)}},addMessage:function(e){this.addDateHeadline(e),this.messages.pushObject(e),this.visible||(this.set("unreadMessages",!0),e.get("content").match(this.get("space.userNickname"))&&this.set("unreadMentions",!0))},addUser:function(e){this.userList.includes(e)||this.userList.pushObject(e)},removeUser:function(e){this.userList.removeObject(e)}})
e.default=r}),define("hyperchannel/models/channel",["exports","hyperchannel/models/base_channel"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default.extend({searchedPreviousLogsUntilDate:null,formattedTopic:Ember.computed("topic",function(){if(null!==this.topic){var e=linkifyStr(this.topic,{defaultProtocol:"https",linkAttributes:{rel:"nofollow"}})
return new Ember.String.htmlSafe(e)}return""})})
e.default=t}),define("hyperchannel/models/message",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Object.extend({type:null,date:null,nickname:null,content:null})
e.default=n}),define("hyperchannel/models/space",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Object.extend({name:null,protocol:"IRC",server:null,channels:null,botkaURL:null,previousSockethubPersonIds:null,channelSorting:null,sortedChannels:Ember.computed.sort("channels","channelSorting"),init:function(){this.set("channelSorting",["name"]),this.set("channels",[]),this.set("previousSockethubPersonIds",[]),this.set("server",{hostname:null,port:7e3,secure:!0,username:null,password:null,nickname:null,nickServ:{password:null}}),this._super.apply(this,arguments)},channelNames:Ember.computed("channels.@each.name",function(){return this.channels.mapBy("name")}),sockethubChannelIds:Ember.computed("channels.@each.sockethubChannelId",function(){return this.channels.mapBy("sockethubChannelId")}),loggedChannels:Ember.computed("name","protocol",function(){return"Freenode"===this.name&&"IRC"===this.protocol?["#5apps","#kosmos","#kosmos-dev","#remotestorage","#hackerbeach","#unhosted","#sockethub","#opensourcedesign","#openknot","#emberjs","#indieweb","#mastodon"]:[]}),activeChannel:Ember.computed("channels.@each.visible",function(){return this.channels.findBy("visible",!0)}),userNickname:Ember.computed.alias("server.nickname"),updateUsername:function(e){switch(this.previousSockethubPersonIds.pushObject(this.sockethubPersonId),this.protocol){case"IRC":this.set("server.nickname",e)
break
case"XMPP":this.set("server.username",e)}},sockethubPersonId:Ember.computed("protocol","server.{hostname,username,nickname}",function(){var e
switch(this.protocol){case"IRC":e="irc://".concat(this.get("server.nickname"),"@").concat(this.get("server.hostname"))
break
case"XMPP":e="".concat(this.get("server.username"),"/hyperchannel")}return e}),serialize:function(){var e=this,n={id:this.id||this.name.dasherize(),name:this.name,protocol:this.protocol,server:{hostname:this.get("server.hostname"),port:parseInt(this.get("server.port"),10),secure:this.get("server.secure"),nickname:this.get("server.nickname")},channels:this.channelNames||[]}
return Ember.isPresent(this.botkaURL)&&(n.botkaURL=this.botkaURL),["username","password","nickname"].forEach(function(t){Ember.isPresent(e.get("server.".concat(t)))&&(n.server[t]=e.get("server.".concat(t)))}),n}})
e.default=n}),define("hyperchannel/models/user_channel",["exports","hyperchannel/models/base_channel"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default.extend({isUserChannel:!0})
e.default=t}),define("hyperchannel/resolver",["exports","ember-resolver"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default
e.default=t}),define("hyperchannel/router",["exports","hyperchannel/config/environment"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Router.extend({location:n.default.locationType,rootURL:n.default.rootURL})
t.map(function(){this.route("space",{path:"/:id"},function(){this.route("channel",{path:"/channel/:slug"}),this.route("user-channel",{path:"/user/:slug"})}),this.route("settings")})
var r=t
e.default=r}),define("hyperchannel/routes/application",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Route.extend({logger:Ember.inject.service(),coms:Ember.inject.service(),beforeModel:function(){this._super.apply(this,arguments)},model:function(){return this.coms.setupListeners(),this.coms.instantiateSpacesAndChannels()}})
e.default=n}),define("hyperchannel/routes/index",["exports","ember-local-storage","hyperchannel/config/environment"],function(e,n,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.Route.extend({userSettings:(0,n.storageFor)("user-settings"),redirect:function(){var e=this.get("userSettings.currentSpace")||t.default.defaultSpaceId,n=this.get("userSettings.currentChannel")||"kosmos"
e&&n&&this.transitionTo("space.channel",e,n)}})
e.default=r}),define("hyperchannel/routes/settings",["exports","hyperchannel/models/space","hyperchannel/config/environment"],function(e,n,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.Route.extend({storage:Ember.inject.service("remotestorage"),coms:Ember.inject.service(),model:function(){var e=this.get("storage.rs").kosmos.spaces.getAll().then(function(e){var t=[]
return Ember.isEmpty(e)?t:(Object.keys(e).forEach(function(r){var a=n.default.create()
a.setProperties(e[r]),t.push(a)}),t)},function(e){console.error(e)})
return Ember.RSVP.hash({spaces:e,spacePresets:t.default.spacePresets.map(function(e){var t=n.default.create()
return t.setProperties(e),t})})},setupController:function(e){this._super.apply(this,arguments),e.set("newSpace",n.default.create())},actions:{addSpace:function(){var e=this,n=this.controller.get("newSpace")
n.set("id",n.get("name").dasherize()),this.storage.saveSpace(n).then(function(){e.coms.connectAndAddSpace(n),e.modelFor("settings").spaces.pushObject(n)},function(e){console.error("error saving in RS",n,e)})},removeSpace:function(e){var n=this
this.storage.removeSpace(e).then(function(){n.modelFor("settings").spaces.removeObject(e)},function(n){console.error("error deleting from RS",e,n)})}}})
e.default=r}),define("hyperchannel/routes/space",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Route.extend({coms:Ember.inject.service(),model:function(e){return this.coms.get("spaces").findBy("id",e.id)}})
e.default=n}),define("hyperchannel/routes/space/base_channel",["exports","jquery","ember-local-storage"],function(e,n,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.Route.extend({coms:Ember.inject.service(),userSettings:(0,t.storageFor)("user-settings"),model:function(e){var n=this.modelFor("space"),t=n.get("channels").findBy("slug",e.slug)
return t||(t=this.createChannelOrUserChannel(n,e.slug)),t},setupController:function(e,t){this._super(e,t),Ember.run.scheduleOnce("afterRender",function(){window.innerWidth>900&&(0,n.default)("input#message-field").focus()})},actions:{didTransition:function(){var e=this.modelFor("space"),n=this.controller.get("model")
this.set("userSettings.currentSpace",e.get("id")),this.set("userSettings.currentChannel",n.get("slug")),this.get("coms.spaces").forEach(function(e){e.get("channels").setEach("visible",!1)}),n.set("visible",!0),n.set("unreadMessages",!1),n.set("unreadMentions",!1)}}})
e.default=r}),define("hyperchannel/routes/space/channel",["exports","hyperchannel/routes/space/base_channel"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default.extend({createChannelOrUserChannel:function(e,n){return this.coms.createChannel(e,"#"+n)}})
e.default=t}),define("hyperchannel/routes/space/user_channel",["exports","hyperchannel/routes/space/base_channel"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default.extend({createChannelOrUserChannel:function(e,n){return this.coms.createUserChannel(e,n)}})
e.default=t}),define("hyperchannel/services/-gestures",["exports","hyperchannel/config/environment","ember-gestures/services/-gestures"],function(e,n,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.assign||Ember.merge,a=r({},{useCapture:!1})
a=r(a,n.default.gestures)
var s=t.default.extend({useCapture:a.useCapture})
e.default=s}),define("hyperchannel/services/ajax",["exports","ember-ajax/services/ajax"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/services/coms",["exports","hyperchannel/models/space","hyperchannel/models/channel","hyperchannel/models/user_channel","hyperchannel/models/message","hyperchannel/config/environment","moment","ember-local-storage"],function(e,n,t,r,a,s,o,i){function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var c=Ember.Service.extend({ajax:Ember.inject.service(),logger:Ember.inject.service(),userSettings:(0,i.storageFor)("user-settings"),storage:Ember.inject.service("remotestorage"),irc:Ember.inject.service("sockethub-irc"),xmpp:Ember.inject.service("sockethub-xmpp"),spaces:null,setupListeners:function(){this.sockethub.socket.on("completed",this.handleSockethubCompleted.bind(this)),this.sockethub.socket.on("message",this.handleSockethubMessage.bind(this)),this.sockethub.socket.on("failure",this.handleSockethubFailure.bind(this))},instantiateSpacesAndChannels:function(){var e=this
this.set("spaces",[])
var t=this.get("storage.rs")
return new Ember.RSVP.Promise(function(r,a){t.kosmos.spaces.getAll().then(function(t){Ember.isEmpty(Object.keys(t))?(console.debug("No space data found in RS. Adding default space..."),e.storage.addDefaultSpace().then(function(n){e.connectAndAddSpace(n.space),e.instantiateChannels(n.space,n.channels),r()})):(Object.keys(t).forEach(function(r){var a=n.default.create()
a.setProperties({id:r,name:t[r].name,protocol:t[r].protocol,server:t[r].server,botkaURL:t[r].botkaURL}),e.connectAndAddSpace(a),e.instantiateChannels(a,t[r].channels)}),r())},function(n){e.log("error","couldn'd load spaces from RS",n),a()})})},connectServer:function(e){this.getServiceForSockethubPlatform(e.get("protocol")).connect(e)},connectAndAddSpace:function(e){this.connectServer(e),this.spaces.pushObject(e)},joinChannel:function(e,n,t){this.getServiceForSockethubPlatform(e.get("protocol")).join(e,n,t)},transferMessage:function(e,n,t){var r={"@id":n.get("sockethubChannelId"),"@type":n.get("isUserChannel")?"person":"room",displayName:n.get("name")}
this.getServiceForSockethubPlatform(e.get("protocol")).transferMessage(e,r,t)},transferMeMessage:function(e,n,t){switch(e.get("protocol")){case"IRC":this.irc.transferMeMessage(e,n,t)}},leaveChannel:function(e,n){switch(e.get("protocol")){case"IRC":this.irc.leave(e,n)}},changeTopic:function(e,n,t){switch(e.get("protocol")){case"IRC":this.irc.changeTopic(e,n,t)}},updateChannelUserList:function(e){var n
switch(e.context){case"irc":n=this.getChannelById(e.actor["@id"])
break
case"xmpp":n=this.getChannel(e.target["@id"],e.actor["@id"])}n&&(n.set("connected",!0),Array.isArray(e.object.members)&&n.set("userList",e.object.members))},addUserToChannelUserList:function(e){var n=this.getChannelById(e.target["@id"])
n&&n.addUser(e.actor.displayName)},removeUserFromChannelUserList:function(e){var n=this.getChannelById(e.target["@id"])
n&&n.removeUser(e.actor.displayName)},getChannelById:function(e){var n=e.match(/(?:irc:\/\/)?(?:.+@)?(.+?)(?:\/|$)/)[1],t=this.spaces.findBy("server.hostname",n)
if(Ember.isEmpty(t))console.warn("Could not find space by hostname",n)
else{var r=t.get("channels").findBy("sockethubChannelId",e)
if(!Ember.isEmpty(r))return r
console.warn("Could not find channel by sockethubChannelId",e)}},getChannel:function(e,n){var t=this.spaces.findBy("sockethubPersonId",e)
if(Ember.isEmpty(t))console.warn("Could not find space by sockethubPersonId",e)
else{var r=t.get("channels").findBy("sockethubChannelId",n)
if(!Ember.isEmpty(r))return r
console.warn("Could not find channel by sockethubChannelId",n)}},updateUsername:function(e){if("object"===l(e.actor)){var n=e.actor["@id"],t=this.spaces.findBy("sockethubPersonId",n)
Ember.isPresent(t)&&t.updateUsername(e.target.displayName)}},updateChannelTopic:function(e){var n
"object"===l(e.target)?n=e.target["@id"].match(/irc:\/\/(.+)\//)[1]:"string"==typeof e.actor&&(n=e.actor.match(/irc:\/\/.+@(.+)/)[1])
var t=this.spaces.findBy("server.hostname",n)
if(!Ember.isEmpty(t)){var r=t.get("channels").findBy("sockethubChannelId",e.target["@id"])
Ember.isEmpty(r)&&(console.warn("No channel for update topic message found. Creating it.",e),r=this.createChannel(t,e.target.displayName))
var a=r.get("topic"),s=e.object.topic
r.set("topic",s),Ember.isPresent(a)&&s!==a&&!r.get("visible")&&Notification.requestPermission(function(){new Notification(r.name,{body:"New Topic: ".concat(s)})})}},instantiateChannels:function(e,n){var t=this
n.forEach(function(n){t.createChannel(e,n)})},createChannel:function(e,n){var r=this.getServiceForSockethubPlatform(e.get("protocol")),a=t.default.create({space:e,name:n,sockethubChannelId:r.generateChannelId(e,n)})
return this.joinChannel(e,a,"room"),e.get("channels").pushObject(a),this.storage.saveSpace(e),a.get("isLogged")&&this.loadLastMessages(e,a,o.default.utc(),2).catch(function(){}),a},loadLastMessages:function(e,n,t){var r,a=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:14
if(r=n.get("searchedPreviousLogsUntilDate")?(0,o.default)(n.get("searchedPreviousLogsUntilDate")).subtract(s,"days"):o.default.utc().subtract(s,"days"),!t.isBefore(r,"day"))return this.loadArchiveMessages(e,n,t).catch(function(){return a.loadLastMessages(e,n,t.subtract(1,"day"))})
n.set("searchedPreviousLogsUntilDate",t)},loadArchiveMessages:function(e,n,t){var r=this,i="".concat(s.default.publicLogsUrl,"/").concat(e.get("name").toLowerCase(),"/channels/").concat(n.get("slug"),"/")
return i+=t.format("YYYY/MM/DD"),this.ajax.request(i,{type:"GET",dataType:"json"}).then(function(e){Ember.get(e,"today.messages").forEach(function(e){r.log("chat_message",e)
var t=a.default.create({type:"message-chat",date:new Date(e.timestamp),nickname:e.from,content:e.text})
n.addMessage(t)})
var t=Ember.get(e,"today.previous")
n.set("searchedPreviousLogsUntilDate",o.default.utc(t.replace(/\//g,"-")))}).catch(function(e){throw r.log("ajax-error","couldn't load archive document",e),e})},createUserChannel:function(e,n){var t=this.getServiceForSockethubPlatform(e.get("protocol")),a=r.default.create({space:e,name:n,sockethubChannelId:t.generateChannelId(e,n)})
return this.joinChannel(e,a,"person"),e.get("channels").pushObject(a),a},removeChannel:function(e,n){var t=e.get("channels").findBy("name",n)
return this.leaveChannel(e,t),e.get("channels").removeObject(t),this.storage.saveSpace(e),t},getServiceForSockethubPlatform:function(e){return this.get(e.dasherize())},handleSockethubCompleted:function(e){switch(this.log("".concat(e.context,"_completed"),e),e["@type"]){case"join":var n=this.spaces.findBy("sockethubPersonId",e.actor["@id"])
Ember.isEmpty(n)&&(n=this.spaces.find(function(n){return n.get("previousSockethubPersonIds").includes(e.actor["@id"])})),Ember.isEmpty(n)?console.warn("Could not find space for join message",e):this.get(e.context).handleJoinCompleted(n,e)}},handleSockethubMessage:function(e){switch(this.log("".concat(e.context,"_message"),"SH message",e),e["@type"]){case"observe":"attendance"===e.object["@type"]&&this.updateChannelUserList(e)
break
case"join":this.handleChannelJoin(e)
break
case"leave":this.removeUserFromChannelUserList(e)
break
case"send":switch(e.object["@type"]){case"message":case"me":this.getServiceForSockethubPlatform(e.context).addMessageToChannel(e)}break
case"update":switch(e.object["@type"]){case"topic":this.updateChannelTopic(e)
break
case"address":this.updateUsername(e)
break
case"presence":this.xmpp.handlePresenceUpdate(e)
break
case"error":console.warn("Got error update message",e.actor["@id"],e.object.content)}}},handleChannelJoin:function(e){if(e.object["@type"]&&"error"===e.object["@type"]){var n=this.getChannel(e.target["@id"],e.actor["@id"])
Ember.isPresent(n)?n.set("connected",!1):console.warn("Could not find channel for error message",e)}else this.addUserToChannelUserList(e)},handleSockethubFailure:function(e){this.log("sh_failure",e)},log:function(){var e;(e=this.logger).log.apply(e,arguments)}})
e.default=c}),define("hyperchannel/services/ember-elsewhere",["exports","ember-elsewhere/services/ember-elsewhere"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/services/liquid-fire-transitions",["exports","liquid-fire/transition-map"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=n.default
e.default=t}),define("hyperchannel/services/logger",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.Service.extend({enabled:!0,allowedTypes:null,activeTypes:null,init:function(){this._super.apply(this,arguments),this.set("allowedTypes",["connection","error","join","leave","message","irc_message","xmpp_message","send","xmpp_completed","irc_completed","sh_completed","sh_failure","irc","xmpp","ajax-error","chat_message"]),this.set("activeTypes",["connection","error","join","leave","send","sh_completed","xmpp_completed","irc_completed","sh_failure","irc","xmpp","message","irc_message","xmpp_message"])},log:function(e){if(!this.allowedTypes.includes(e))throw new Error('You specified a unknown type: "'.concat(e,'".'))
if(this.activeTypes.includes(e)&&this.enabled){var n=Array.prototype.slice.call(arguments)
n[0]="[".concat(n[0],"]"),console.debug.apply(null,n)}},add:function(e){this.activeTypes.addObject(e)},remove:function(e){this.activeTypes.removeObject(e)},disable:function(){this.set("enabled",!1)},enable:function(){this.set("enabled",!0)}})
e.default=n})
define("hyperchannel/services/moment",["exports","ember-moment/services/moment","hyperchannel/config/environment"],function(e,n,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.get,a=n.default.extend({defaultFormat:r(t.default,"moment.outputFormat")})
e.default=a}),define("hyperchannel/services/remotestorage",["exports","hyperchannel/models/space","remotestoragejs","remotestorage-module-kosmos","hyperchannel/config/environment"],function(e,n,t,r,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=Ember.Service.extend({rs:null,init:function(){this._super.apply(this,arguments)
var e=new t.default({modules:[r.default]})
e.access.claim("kosmos","rw"),e.caching.enable("/kosmos/"),this.set("rs",e)},addDefaultSpace:function(){var e=a.default.spacePresets.find(function(e){return e.id===a.default.defaultSpaceId}),t={id:e.id,name:e.name,protocol:e.protocol,server:e.server,channels:["#hackerbeach","#kosmos","#kosmos-dev","#kosmos-random","#sockethub"],botkaURL:e.botkaURL}
return t.server.nickname=window.prompt("Choose a nickname"),this.rs.kosmos.spaces.store(t).then(function(){console.debug("[remotestorage]","created/stored default space")
var e=t.channels
delete t.channels
var r=n.default.create()
return r.setProperties(t),{space:r,channels:e}})},saveSpace:function(e){return this.rs.kosmos.spaces.store(e.serialize()).then(function(){return console.debug("[remotestorage]","saved space ".concat(e.get("name")))}).catch(function(e){return console.error("saving space failed:",e)})},removeSpace:function(e){return this.rs.kosmos.spaces.remove(e.get("id")).then(function(){return console.debug("[remotestorage]","removed space ".concat(e.get("name")," from RS"))})}})
e.default=s}),define("hyperchannel/services/sockethub-irc",["exports","jquery","hyperchannel/utils/channel-message-from-sockethub-object"],function(e,n,t){function r(e,t){var r={context:"irc",actor:e.get("sockethubPersonId")}
return n.default.extend({},r,t)}function a(e,n,t){return r(e,{"@type":"send",target:n,object:{"@type":arguments.length>3&&void 0!==arguments[3]?arguments[3]:"message",content:t}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var s=Ember.Service.extend({logger:Ember.inject.service(),coms:Ember.inject.service(),connect:function(e){var n={"@id":e.get("sockethubPersonId"),"@type":"person",displayName:e.get("server.nickname")}
console.debug("actor object",n),this.sockethub.ActivityStreams.Object.create(n)
var t=r(e,{object:{"@type":"credentials",nick:e.get("server.nickname"),server:e.get("server.hostname"),port:parseInt(e.get("server.port"),10),secure:e.get("server.secure")}})
this.log("irc","connecting to IRC network",t),this.sockethub.socket.emit("credentials",t)},handleJoinCompleted:function(e,n){var t=e.get("channels").findBy("sockethubChannelId",n.target["@id"])
t&&this.observeChannel(e,t)},join:function(e,n,t){switch(t){case"room":this.sockethub.ActivityStreams.Object.create({"@type":t,"@id":n.get("sockethubChannelId"),displayName:n.get("name")})
var a=r(e,{"@type":"join",target:n.get("sockethubChannelId"),object:{}})
this.log("irc","joining channel",a),this.sockethub.socket.emit("message",a)
break
case"person":n.set("connected",!0)}},transferMessage:function(e,n,t){var r=a(e,n,t)
this.log("send","sending message job",r),this.sockethub.socket.emit("message",r)},transferMeMessage:function(e,n,t){var r=a(e,n,t,"me")
this.log("send","sending message job",r),this.sockethub.socket.emit("message",r)},addMessageToChannel:function(e){var n=e.actor["@id"].match(/irc:\/\/.+@(.+)/)[1],r=this.get("coms.spaces").findBy("server.hostname",n)
if(Ember.isEmpty(r))console.warn("Could not find space for message",e)
else{var a=this.getChannelForMessage(r,e),s=(0,t.default)(e)
a.addMessage(s)}},leave:function(e,n){if(!n.get("isUserChannel")){this.sockethub.ActivityStreams.Object.create({"@type":"room","@id":n.get("sockethubChannelId"),displayName:n.get("name")})
var t=r(e,{"@type":"leave",target:n.get("sockethubChannelId"),object:{}})
this.log("leave","leaving channel",t),this.sockethub.socket.emit("message",t)}},changeTopic:function(e,n,t){var a=r(e,{"@type":"update",target:n.get("sockethubChannelId"),object:{"@type":"topic",topic:t}})
this.sockethub.socket.emit("message",a)},observeChannel:function(e,n){var t=r(e,{"@type":"observe",target:n.get("sockethubChannelId"),object:{"@type":"attendance"}})
this.log("irc","asking for attendance list",t),this.sockethub.socket.emit("message",t)},generateChannelId:function(e,n){return"irc://".concat(e.get("server.hostname"),"/").concat(n)},getChannelForMessage:function(e,n){var t,r
return e.get("userNickname")===n.target.displayName?(t=n.actor.displayName||n.actor["@id"],(r=e.get("channels").findBy("name",t))||(r=this.coms.createUserChannel(e,t))):(t=n.target.displayName,(r=e.get("channels").findBy("name",t))||(r=this.coms.createChannel(e,t))),r},log:function(){var e;(e=this.logger).log.apply(e,arguments)}})
e.default=s}),define("hyperchannel/services/sockethub-xmpp",["exports","jquery","hyperchannel/utils/channel-message-from-sockethub-object"],function(e,n,t){function r(e,t){var r={context:"xmpp",actor:e.get("sockethubPersonId")}
return n.default.extend({},r,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var a=Ember.Service.extend({logger:Ember.inject.service(),coms:Ember.inject.service(),connect:function(e){var n=e.get("sockethubPersonId")
this.sockethub.ActivityStreams.Object.create({"@id":n,"@type":"person",displayName:e.get("server.nickname")})
var t={actor:n,context:"xmpp",object:{"@type":"credentials",username:e.get("server.username"),password:e.get("server.password"),server:e.get("server.hostname"),port:parseInt(e.get("server.port"),10),resource:"hyperchannel"}},r={"@type":"connect",context:"xmpp",actor:n}
this.log("xmpp","connecting to XMPP server..."),this.sockethub.socket.emit("credentials",t),this.sockethub.socket.emit("message",r)},handleJoinCompleted:function(e,n){var t=n.target["@id"].split("/")[0],r=e.get("channels").findBy("sockethubChannelId",t)
r?this.observeChannel(e,r):console.warn("Could not find channel for join message",n)},join:function(e,n,t){this.sockethub.ActivityStreams.Object.create({"@type":t,"@id":n.get("sockethubChannelId"),displayName:n.get("name")})
var a=r(e,{"@type":"join",actor:{"@type":"person","@id":e.get("sockethubPersonId"),displayName:e.get("server.nickname")},target:{"@id":n.get("sockethubChannelId"),"@type":t}})
this.log("xmpp","joining channel",a),this.sockethub.socket.emit("message",a)},transferMessage:function(e,n,t){var a=function(e,n,t){return r(e,{"@type":"send",target:n,object:{"@type":arguments.length>3&&void 0!==arguments[3]?arguments[3]:"message",content:t}})}(e,n,t)
this.log("send","sending message job",a),this.sockethub.socket.emit("message",a)},handlePresenceUpdate:function(e){if("room"===e.target["@type"]){var n=e.target["@id"],t=this.get("coms.spaces").find(function(e){return e.get("sockethubChannelIds").includes(n)}).get("channels").findBy("sockethubChannelId",n)
t&&("offline"===e.object.presence?t.removeUser(e.actor.displayName):t.addUser(e.actor.displayName))}else console.debug("Presence update:",e.actor["@id"],e.object.presence,e.object.status)},addMessageToChannel:function(e){if(!Ember.isEmpty(e.object.content)){var n=this.getSpaceForMessage(e)
if(Ember.isEmpty(n))console.warn("Could not find space for message",e)
else{var r=this.getChannelForMessage(n,e),a=(0,t.default)(e)
a.get("nickname")!==n.get("userNickname")&&r.addMessage(a)}}},observeChannel:function(e,n){var t=r(e,{"@type":"observe",target:n.get("sockethubChannelId"),object:{"@type":"attendance"}})
this.log("xmpp","asking for attendance list",t),this.sockethub.socket.emit("message",t)},generateChannelId:function(e,n){return n},getSpaceForMessage:function(e){var n=e.target["@id"]
return"room"===e.target["@type"]?this.get("coms.spaces").find(function(e){return e.get("sockethubChannelIds").includes(n)}):this.get("coms.spaces").findBy("sockethubPersonId",n)},getChannelForMessage:function(e,n){var t,r=n.target["@id"]
return"room"===n.target["@type"]?(t=e.get("channels").findBy("sockethubChannelId",r))||(t=this.coms.createChannel(e,r)):(t=e.get("channels").findBy("sockethubChannelId",n.actor["@id"]))||(t=this.coms.createUserChannel(e,n.actor["@id"])),t},log:function(){var e;(e=this.logger).log.apply(e,arguments)}})
e.default=a}),define("hyperchannel/storages/user-settings",["exports","ember-local-storage/local/object","hyperchannel/config/environment"],function(e,n,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=n.default.extend()
r.reopenClass({initialState:function(){return{nickname:null,currentSpace:t.default.defaultSpaceId,currentChannel:"kosmos"}}})
var a=r
e.default=a}),define("hyperchannel/templates/application",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"f+7OC7Md",block:'{"symbols":[],"statements":[[4,"app-container",null,[["showGlobalMenu","showChannelMenu"],[[25,["showGlobalMenu"]],[25,["showChannelMenu"]]]],{"statements":[[0,"  "],[7,"div"],[11,"id","global"],[9],[0,"\\n    "],[7,"header"],[11,"id","sitename"],[9],[0,"\\n      "],[7,"h1"],[9],[0,"Kosmos"],[10],[0,"\\n    "],[10],[0,"\\n\\n    "],[7,"div"],[11,"class","main"],[9],[0,"\\n      "],[7,"nav"],[11,"id","channels"],[9],[0,"\\n        "],[1,[29,"channel-nav",null,[["spaces"],[[25,["spaces"]]]]],false],[0,"\\n      "],[10],[0,"\\n    "],[10],[0,"\\n  "],[10],[0,"\\n\\n  "],[1,[23,"outlet"],false],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[1,[23,"modal-target"],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/templates/application.hbs"}})
e.default=n}),define("hyperchannel/templates/settings",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"VAlcTWrX",block:'{"symbols":["spacePreset","space"],"statements":[[7,"section"],[11,"id","settings"],[9],[0,"\\n  "],[7,"h2"],[9],[0,"Settings"],[10],[0,"\\n\\n  "],[7,"div"],[11,"class","content"],[9],[0,"\\n    "],[7,"h3"],[9],[0,"Spaces"],[10],[0,"\\n\\n"],[4,"each",[[25,["model","spaces"]]],null,{"statements":[[0,"      "],[7,"h3"],[9],[1,[24,2,["name"]],false],[10],[0,"\\n      "],[7,"button"],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[0,"delete"],[3,"action",[[24,0,[]],"removeSpace",[24,2,[]]]],[10],[0,"\\n      "],[7,"hr"],[9],[10],[0,"\\n"]],"parameters":[2]},null],[0,"\\n    "],[7,"h3"],[9],[0,"Presets"],[10],[0,"\\n\\n"],[4,"each",[[25,["model","spacePresets"]]],null,{"statements":[[0,"      "],[7,"h3"],[9],[1,[24,1,["name"]],false],[10],[0,"\\n      "],[7,"button"],[11,"style","touch-action: manipulation; -ms-touch-action: manipulation; cursor: pointer;"],[9],[0,"add"],[3,"action",[[24,0,[]],"addSpaceFromPreset",[24,1,[]]]],[10],[0,"\\n      "],[7,"hr"],[9],[10],[0,"\\n"]],"parameters":[1]},null],[0,"\\n    "],[7,"h3"],[9],[0,"Add new space"],[10],[0,"\\n    "],[7,"form"],[11,"name","add-space"],[9],[0,"\\n      "],[7,"p"],[9],[0,"\\n        "],[1,[29,"input",null,[["value","required","placeholder"],[[25,["newSpace","name"]],"required","Freenode"]]],false],[0,"\\n      "],[10],[0,"\\n      "],[7,"p"],[9],[0,"\\n        "],[1,[29,"input",null,[["value","required","placeholder"],[[25,["newSpace","server","hostname"]],"required","irc.servername.org"]]],false],[0,"\\n      "],[10],[0,"\\n      "],[7,"p"],[9],[0,"\\n        "],[1,[29,"input",null,[["value","required","placeholder"],[[25,["newSpace","server","port"]],"required","6667"]]],false],[0,"\\n      "],[10],[0,"\\n      "],[7,"p"],[9],[0,"\\n        "],[1,[29,"input",null,[["type","checked","id"],["checkbox",[25,["newSpace","server","secure"]],"tls-enabled"]]],false],[0,"\\n        "],[7,"label"],[11,"for","tls-enabled"],[9],[0,"Secure (TLS)"],[10],[0,"\\n      "],[10],[0,"\\n      "],[7,"p"],[9],[0,"\\n        "],[1,[29,"input",null,[["value","placeholder"],[[25,["newSpace","server","username"]],"username"]]],false],[0,"\\n      "],[10],[0,"\\n      "],[7,"p"],[9],[0,"\\n        "],[1,[29,"input",null,[["type","value","placeholder"],["password",[25,["newSpace","server","password"]],"password"]]],false],[0,"\\n      "],[10],[0,"\\n      "],[7,"p"],[9],[0,"\\n        "],[1,[29,"input",null,[["value","required","placeholder"],[[25,["newSpace","server","nickname"]],"required","nickname"]]],false],[0,"\\n      "],[10],[0,"\\n      "],[7,"p"],[9],[0,"\\n        "],[7,"input"],[11,"value","Save"],[11,"type","submit"],[9],[10],[0,"\\n      "],[10],[0,"\\n    "],[3,"action",[[24,0,[]],"addSpace"],[["on"],["submit"]]],[10],[0,"\\n\\n  "],[10],[0,"\\n"],[10],[0,"\\n\\n"],[4,"if",[[25,["showSpaceSettingModal"]]],null,{"statements":[[0,"  "],[1,[29,"to-elsewhere",null,[["named","send"],["modal",[29,"hash",null,[["body","onOutsideClick"],[[29,"component",["space-setting-modal"],[["settings","onSave","onCancel"],[[25,["selectedSpacePreset"]],[29,"action",[[24,0,[]],"saveSpace"],null],[29,"action",[[24,0,[]],[29,"mut",[[25,["selectedSpacePreset"]]],null],null],null]]]],[29,"action",[[24,0,[]],[29,"mut",[[25,["selectedSpacePreset"]]],null],null],null]]]]]]],false],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"hyperchannel/templates/settings.hbs"}})
e.default=n}),define("hyperchannel/templates/space/channel",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"3/UEhoHs",block:'{"symbols":[],"statements":[[1,[29,"channel-container",null,[["channel","newMessage","onMessage","onCommand","menu"],[[25,["model"]],[25,["newMessage"]],[29,"action",[[24,0,[]],"sendMessage"],null],[29,"action",[[24,0,[]],"executeCommand"],null],[29,"action",[[24,0,[]],"menu"],null]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/templates/space/channel.hbs"}})
e.default=n}),define("hyperchannel/templates/space/index",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"iUmRIy7w",block:'{"symbols":[],"statements":[[7,"section"],[11,"id","space"],[9],[0,"\\n  "],[7,"header"],[9],[0,"\\n    "],[7,"h2"],[9],[1,[25,["model","name"]],false],[10],[0,"\\n    "],[7,"p"],[11,"class","discreet"],[9],[1,[25,["model","server","hostname"]],false],[10],[0,"\\n  "],[10],[0,"\\n  "],[7,"div"],[11,"class","content"],[9],[0,"\\n    "],[7,"p"],[9],[0,"\\n      "],[1,[29,"web-push-subscription",null,[["botkaURL","username"],[[25,["model","botkaURL"]],[25,["model","userNickname"]]]]],false],[0,"\\n    "],[10],[0,"\\n  "],[10],[0,"\\n"],[10],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/templates/space/index.hbs"}})
e.default=n}),define("hyperchannel/templates/space/user_channel",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=Ember.HTMLBars.template({id:"B8LEtJYC",block:'{"symbols":[],"statements":[[1,[29,"channel-container",null,[["channel","newMessage","onMessage","onCommand"],[[25,["model"]],[25,["newMessage"]],[29,"action",[[24,0,[]],"sendMessage"],null],[29,"action",[[24,0,[]],"executeCommand"],null]]]],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"hyperchannel/templates/space/user_channel.hbs"}})
e.default=n}),define("hyperchannel/transitions/cross-fade",["exports","liquid-fire/transitions/cross-fade"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/transitions/default",["exports","liquid-fire/transitions/default"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/transitions/explode",["exports","liquid-fire/transitions/explode"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/transitions/fade",["exports","liquid-fire/transitions/fade"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/transitions/flex-grow",["exports","liquid-fire/transitions/flex-grow"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/transitions/fly-to",["exports","liquid-fire/transitions/fly-to"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/transitions/move-over",["exports","liquid-fire/transitions/move-over"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/transitions/scale",["exports","liquid-fire/transitions/scale"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/transitions/scroll-then",["exports","liquid-fire/transitions/scroll-then"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/transitions/to-down",["exports","liquid-fire/transitions/to-down"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/transitions/to-left",["exports","liquid-fire/transitions/to-left"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/transitions/to-right",["exports","liquid-fire/transitions/to-right"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/transitions/to-up",["exports","liquid-fire/transitions/to-up"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/transitions/wait",["exports","liquid-fire/transitions/wait"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n.default}})}),define("hyperchannel/utils/channel-message-from-sockethub-object",["exports","hyperchannel/models/message"],function(e,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return n.default.create({type:"me"===e.object["@type"]?"message-chat-me":"message-chat",date:e.published?new Date(e.published):new Date,nickname:e.actor.displayName||e.actor["@id"],content:e.object.content})}}),define("hyperchannel/utils/url-base64-to-uint8-array",["exports"],function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){for(var n="=".repeat((4-e.length%4)%4),t=(e+n).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(t),a=new Uint8Array(r.length),s=0;s<r.length;++s)a[s]=r.charCodeAt(s)
return a}}),define("hyperchannel/config/environment",[],function(){try{var e="hyperchannel/config/environment",n=document.querySelector('meta[name="'+e+'"]').getAttribute("content"),t={default:JSON.parse(decodeURIComponent(n))}
return Object.defineProperty(t,"__esModule",{value:!0}),t}catch(r){throw new Error('Could not read config from meta tag with name "'+e+'".')}}),runningTests||require("hyperchannel/app").default.create({name:"hyperchannel",version:"0.5.2+d380ddad"})

//# sourceMappingURL=hyperchannel.map